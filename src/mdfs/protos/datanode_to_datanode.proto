syntax = "proto3";

package mdfs.message;
import "mdfs/protos/block_info.proto";

// transfer block between datanodes
message DataNodeToDataNodeMessage {
    BlockInfo block = 1;
    bytes data = 2;
    int32 command = 3; // read or write command defined in mdfs::common::DataTransferCommand
}

service DataNodeToDataNode {
    rpc Communicate (DataNodeToDataNodeMessage) returns (DataNodeToDataNodeMessage);
}
